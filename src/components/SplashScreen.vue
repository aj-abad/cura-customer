<template>
  <transition name="fade">
    <div
      @click="show = false"
      v-if="show"
      id="splash"
      class="position-absolute w-100 h-100 top left"
    >
      <svg
        id="splash-logo"
        viewBox="0 0 895.89 742.69"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        style="width: 96px"
      >
        <g
          id="circles"
          style="clip-path: url(#clip)"
        >
          <circle
            transform-origin="50 50"
            cx="74.38"
            cy="218.87"
            r="107.99"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="253.76"
            cy="426.78"
            r="55.43"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="108.92"
            cy="488.93"
            r="39.85"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="135.23"
            cy="338.48"
            r="41.64"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="231.73"
            cy="298.69"
            r="39.15"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="182.49"
            cy="266.19"
            r="65.9"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="214.68"
            cy="314.72"
            r="76.63"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="66.52"
            cy="384.2"
            r="82.25"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="153.88"
            cy="422.01"
            r="64.37"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="197.31"
            cy="623.81"
            r="88.38"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="90.79"
            cy="549.98"
            r="106.52"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="218.25"
            cy="513.46"
            r="83.78"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="371.13"
            cy="700.05"
            r="69.1"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="261.93"
            cy="668"
            r="67.69"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="271.13"
            cy="595.96"
            r="60.54"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="344.44"
            cy="620.23"
            r="42.4"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="376.75"
            cy="604.52"
            r="63.48"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="368.71"
            cy="563.27"
            r="66.67"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="8.54"
            cy="311.91"
            r="55.43"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="280.53"
            cy="332.09"
            r="51.14"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="318.13"
            cy="391.35"
            r="56.2"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="333.2"
            cy="485.36"
            r="94"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="454.92"
            cy="32.85"
            r="65.87"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="400.22"
            cy="109.51"
            r="54.7"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="513.34"
            cy="94.33"
            r="48.69"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="360.56"
            cy="177.53"
            r="53.23"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="504.56"
            cy="244.78"
            r="39.9"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="428.57"
            cy="146.64"
            r="36.08"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="461.22"
            cy="125.45"
            r="57.28"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="531.67"
            cy="193.99"
            r="63.58"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="364.93"
            cy="254.13"
            r="59.57"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="406.56"
            cy="325.35"
            r="46"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="462.52"
            cy="188.81"
            r="55.97"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="404.7"
            cy="252.22"
            r="38.18"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="408.68"
            cy="261.99"
            r="70.1"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="538.92"
            cy="271.51"
            r="57.47"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="472.48"
            cy="306.64"
            r="61.86"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="452.55"
            cy="368.5"
            r="61.63"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="457.29"
            cy="429.67"
            r="37.14"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="833.95"
            cy="219.15"
            r="144.4"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="696.59"
            cy="271.43"
            r="79.54"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="774.92"
            cy="401.62"
            r="94.98"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="849.81"
            cy="401.89"
            r="59.6"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="642.15"
            cy="452.4"
            r="61.05"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="502.12"
            cy="709.99"
            r="57.12"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="673.07"
            cy="646.67"
            r="56.02"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="561.33"
            cy="678.12"
            r="67.71"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="651.19"
            cy="551.11"
            r="116.85"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="789.31"
            cy="502.27"
            r="83.59"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="651.19"
            cy="342.29"
            r="72.8"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="614.57"
            cy="385.87"
            r="75.65"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="561.84"
            cy="410.04"
            r="51.44"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="498.51"
            cy="638.38"
            r="55.62"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="525.29"
            cy="572.22"
            r="69.95"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="554.59"
            cy="472.97"
            r="62.46"
            class="splash-circle"
            style="transform: scale(0)"
          />
          <circle
            transform-origin="50 50"
            cx="504.19"
            cy="505.7"
            r="31.23"
            class="splash-circle"
            style="transform: scale(0)"
          />
        </g>
        <clipPath id="clip">
          <path
            d="M889.86,139.34c-138.41,28.84-256.36,104.81-334,215.71S447.14,602.78,467.39,742.69c138.4-28.82,256.36-104.81,334-215.71S910.11,279.26,889.86,139.34ZM448,461.52A562.93,562.93,0,0,1,583.82,249C562.17,157.67,515.84,72.22,448,0c-67.9,72.22-114.23,157.67-135.89,249a564.13,564.13,0,0,1,66.82,78.9A564.4,564.4,0,0,1,448,461.52ZM94.48,527C170.4,635.41,284.87,710.43,419.27,740.67a608.84,608.84,0,0,1,4.52-189.55A519.81,519.81,0,0,0,340,355.05C262.39,244.15,144.43,168.17,6,139.34-14.22,279.26,16.84,416.09,94.48,527Z"
          />
        </clipPath>
      </svg>
      <h1
        data-animate
        style="transform: translateY(12px); opacity: 0"
      >
        Cura
      </h1>
      <h2
        data-animate
        style="transform: translateY(12px); opacity: 0"
      >
        Self-care, delivered.
      </h2>
    </div>
  </transition>
</template>

<script>
import anime from 'animejs/lib/anime.es'
export default {
  name: 'SplashScreen',
  data () {
    return {
      show: true
    }
  },
  mounted () {
    setTimeout(() => {
      anime.set('.splash-circle', {
        scale: 0
      })

      anime({
        targets: '.splash-circle',
        scale: 1.0,
        duration: 600,
        easing: 'easeInOutQuad',
        delay: anime.stagger(8),
        complete: () => {
          anime({
            targets: '[data-animate]',
            delay: anime.stagger(100),
            opacity: 1,
            translateY: 0,
            duration: 400,
            easing: 'easeInOutQuad',
            complete: () => {
              setTimeout(() => (this.show = false), 750)
            }
          })
        }
      })
    }, 300)
  }
}
</script>

<style lang="stylus" scoped>
#splash {
  z-index: 100;
  background: var(--v-primary-base);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

circle {
  fill: #dfeeec;
  transform-origin: 50% 50%;
}

h1 {
  font-family: 'nunito sans';
  color: white;
  font-size: 48px;
  color: #dfeeec;
  margin-top: 4px;
}

h2 {
  text-align: center;
  font-family: 'nunito sans';
  color: white;
  font-size: 16px;
  margin-top: -8px;
  font-weight: 500;
}
</style>
